
Runner.pages.PageSettings.addPageEvent('bolsa_empleo.vacancia_tmp',Runner.pages.constants.PAGE_ADD,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject,row){var formacion_acade=Runner.getControl(pageid,'id_formacion_academica');var tipo_movilidad=Runner.getControl(pageid,'tipo_movilidad');var tipo_discapacidad=Runner.getControl(pageid,'discapacidad_aceptada');var movilidad=Runner.getControl(pageid,'movilidad_propia');var nombre_puesto=Runner.getControl(pageid,'fk_ocupacion_puesto');var contrato=Runner.getControl(pageid,'tipo_contrato');var nacionalidad=Runner.getControl(pageid,'nacionalidad');var salario=Runner.getControl(pageid,'salario');var remuneracion=Runner.getControl(pageid,'tipo_remuneracion');var modalidad_trabajo=Runner.getControl(pageid,'modalidad_trabajo');var cantidad_vacancia=Runner.getControl(pageid,'cantidad_vacancia');var salariodescr=Runner.getControl(pageid,'descripcion_salario');var sexo=Runner.getControl(pageid,'genero');var descrip_puesto=Runner.getControl(pageid,'descripcion_puesto');var requi_excluyente=Runner.getControl(pageid,'requisitos_exclu_formacion');var habilidades_conocimiento=Runner.getControl(pageid,'habilidades_conocimiento');var parahorario=Runner.getControl(pageid,'horario_rotativo');var registro_conducir=Runner.getControl(pageid,'id_registro_conducir');var edadminimo=Runner.getControl(pageid,'edad_minimo');var edadmaximo=Runner.getControl(pageid,'edad_maximo');var anos_expe=Runner.getControl(pageid,'anos_experiencia_vacancia');var mesesexpe=Runner.getControl(pageid,'meses_experiencia_vacancia');var id_sucursal=Runner.getControl(pageid,'id_empresa_sucursal');var id_ciudad=Runner.getControl(pageid,'id_cidudad');var id_departamento=Runner.getControl(pageid,'id_departamento');var id_rubro=Runner.getControl(pageid,'id_rubro');$(".value_requisitos_exclu_formacion_"+pageid).select2({tags:true});$(".value_habilidades_conocimiento_"+pageid).select2({tags:true});$(".value_fk_ocupacion_puesto_"+pageid).select2({tags:true});$(".value_descripcion_salario_"+pageid).select2({tags:true});this.on('beforeSave',function(formObj,fieldControlsArr,pageObj){if(habilidades_conocimiento.getValue()!=null&&requi_excluyente.getValue()!=null&&nombre_puesto&&salariodescr&&nombre_puesto.getValue()&&salariodescr.getValue()&&nombre_puesto.getValue().trim()!==''&&salariodescr.getValue().trim()!==''&&formacion_acade&&tipo_movilidad&&tipo_discapacidad&&descrip_puesto&&parahorario&&registro_conducir&&id_sucursal&&id_ciudad&&id_departamento&&id_rubro&&contrato&&salario&&remuneracion&&modalidad_trabajo&&cantidad_vacancia&&sexo&&movilidad&&edadminimo&&edadmaximo&&anos_expe&&mesesexpe&&formacion_acade.getValue()&&tipo_movilidad.getValue()&&tipo_discapacidad.getValue()&&descrip_puesto.getValue()&&parahorario.getValue()&&registro_conducir.getValue()&&id_sucursal.getValue()&&id_ciudad.getValue()&&id_departamento.getValue()&&id_rubro.getValue()&&contrato.getValue()&&salario.getValue()&&remuneracion.getValue()&&modalidad_trabajo.getValue()&&cantidad_vacancia.getValue()&&sexo&&movilidad.getValue()&&edadminimo.getValue()&&edadmaximo.getValue()&&anos_expe.getValue()&&mesesexpe.getValue()){valores=$(".value_requisitos_exclu_formacion_"+pageid).select2("val")
var strr1=valores.toString();formObj.baseParams['valores_multi_requisitos_todos']=strr1;valores2=$(".value_habilidades_conocimiento_"+pageid).select2("val")
var strr2=valores2.toString();formObj.baseParams['valores_multi_habilidades_conocimiento_todos']=strr2;var valores3=$(".value_fk_ocupacion_puesto_"+pageid).select2("val");var strr3=valores3.toString();formObj.baseParams['valores_multi_ocupacion_puesto_todos']=strr3;var valores4=$(".value_descripcion_salario_"+pageid).select2("val");var strr4=valores4.toString();formObj.baseParams['valores_multi_descripcion_salario_todos']=strr4;}else{alert("Debe completar TODOS LOS CAMPOS, VERIFIQUE");}});descrip_puesto.addStyle('text-transform: capitalize;');requi_excluyente.addStyle('text-transform: capitalize;');habilidades_conocimiento.addStyle('text-transform: capitalize;');var flagformacion_acade=0;formacion_acade.on("change",function(e){if(flagformacion_acade==1){if(formacion_acade.getValue().includes('1')){formacion_acade.setValue('1');flagformacion_acade=0;}else{flagformacion_acade=1;}}else{if(formacion_acade.getValue().includes('2')||formacion_acade.getValue().includes('3')||formacion_acade.getValue().includes('4')||formacion_acade.getValue().includes('5')){var selecciones=String(formacion_acade.getValue());formacion_acade.setValue(selecciones.substring(2));flagformacion_acade=1;}else{flagformacion_acade=0;}}});var flagregistro_conducir=0;registro_conducir.on("change",function(e){if(flagregistro_conducir==1){if(registro_conducir.getValue().includes('1')){registro_conducir.setValue('1');flagregistro_conducir=0;}else{flagregistro_conducir=1;}}else{if(registro_conducir.getValue().includes('2')||registro_conducir.getValue().includes('3')||registro_conducir.getValue().includes('4')||registro_conducir.getValue().includes('5')||registro_conducir.getValue().includes('6')||registro_conducir.getValue().includes('7')||registro_conducir.getValue().includes('8')||registro_conducir.getValue().includes('9')||registro_conducir.getValue().includes('10')){var selecciones_registro=String(registro_conducir.getValue());registro_conducir.setValue(selecciones_registro.substring(2));flagregistro_conducir=1;}else{flagregistro_conducir=0;}}});var flagtipo_movilidad=0;movilidad.on("change",function(e){if(movilidad.getValue()=='No'){tipo_movilidad.setValue('1');tipo_movilidad.makeReadonly();}
if(movilidad.getValue()=='Si'){tipo_movilidad.clear();tipo_movilidad.makeReadWrite();}});var tipo_disca_otro=0;tipo_discapacidad.on("change",function(e){if(tipo_disca_otro==1){if(tipo_discapacidad.getValue().includes('1')){tipo_discapacidad.setValue('1');tipo_disca_otro=0;}else{tipo_disca_otro=1;}}else{if(tipo_discapacidad.getValue().includes('2')||tipo_discapacidad.getValue().includes('3')||tipo_discapacidad.getValue().includes('4')||tipo_discapacidad.getValue().includes('5')||tipo_discapacidad.getValue().includes('6')){var seleccionesdis=String(tipo_discapacidad.getValue());tipo_discapacidad.setValue(seleccionesdis.substring(2));tipo_disca_otro=1;}else{tipo_disca_otro=0;}}});;});